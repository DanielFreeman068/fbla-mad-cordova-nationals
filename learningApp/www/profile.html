<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">    
    <link rel="stylesheet" href="./css/profile.css">
    <!-- <link rel="stylesheet" href="./css/shop-test.css" /> -->
    <title>JOLT || Profile</title>
</head>
<body>
    <div class="navigation">
        <ul>
            <li class="list">
                <a href="shop.html">
                    <span class="icon">
                        <ion-icon name="storefront-outline"></ion-icon>
                    </span>
                    <span class="text">Shop</span>
                </a>
            </li>
            <li class="list">
                <a href="test.html">
                    <span class="icon">
                        <ion-icon name="school-outline"></ion-icon>
                    </span>
                    <span class="text">Test</span>
                </a>
            </li>            
            <li class="list">
                <a id="home"  href="homepage.html">
                    <span class="icon">
                        <ion-icon name="home-outline"></ion-icon>
                    </span>
                    <span class="text">Home</span>
                </a>
            </li>
            <li class="list">
                <a href="games.html">
                    <span class="icon">
                        <ion-icon name="game-controller-outline"></ion-icon>
                    </span>
                    <span class="text">Games</span>
                </a>
            </li>
            <li class="list active">
                <a href="profile.html">
                    <span class="icon">
                        <ion-icon name="person-circle-outline"></ion-icon>
                    </span>
                    <span class="text">Profile</span>
                </a>
            </li>
            <div id="border-gradient-rounded" class="indicator"></div>
        </ul>
    </div>

    <span class="settings" id="logout-btn">
        <ion-icon name="log-out-outline"></ion-icon>
    </span>
    
    <div class="banner" id="banner">
        <!-- Banner Edit Icon -->
        <div class="edit-banner-container">
            <div class="edit-banner" id="edit-banner-icon">
                <ion-icon name="pencil"></ion-icon>
            </div>
        </div>
    </div>
    
    <div class="profile-container">
        <div id="profile-pic" class="profile-pic"></div>
        <div class="edit-icon" id="edit-profile-pic">
            <ion-icon name="pencil"></ion-icon>
        </div>
    </div>
    
    <!-- User Information -->
    <div class="user-info">
        <h1 id="full-name"></h1>
    </div>
    <div class="user-info-username">
        <h1 id="username"></h1>
    </div>
    
    <!-- XP Bar -->
    <div class="info-container">
        <div class="xp-container">
            <div class="xp-bar" id="xp-bar"></div>
        </div>
        <div id="level-rectangle">Level 1</div>
    </div>
    
    <div class="stats-grid">
        <div class="stat-box">
            <div class="coin">
                <div class="coin-inner">
                    <span class="coin-symbol">$</span>
                </div>
            </div>
            <div class="profile-info-div">
                <h3>Coins:</h3>
                <p id="coinsValue">0</p>
            </div>
        </div>
        <div class="stat-box">
            <div class="icon-score jeopardy-icon"></div>
            <div class="profile-info-div">
                <h3>Jeopardy High Score:</h3>
                <p id="jeopardyValue">0</p>
            </div>
        </div>
        <div class="stat-box">
            <div class="game-icon">⭕</div>
            <div class="profile-info-div">
                <h3>Tic Tac Toe Wins:</h3>
                <p id="ticTacToeValue">0</p>
            </div>
        </div>
        <div class="stat-box">
            <div class="game-icon">⏱️</div>
            <div class="profile-info-div">
                <h3>Timer Challenge High Score:</h3>
                <p id="timerValue">00:00</p>
            </div>
        </div>
    </div>
    
    <!-- New Edit Avatar Button -->
    <div class="avatar-btn-container">
        <button id="edit-avatar-btn" class="edit-avatar-btn">Edit Avatar</button>
        <!-- New Switch Home Page Button -->
        <button id="switch-home-btn" class="switch-home-btn">Switch Home Page</button>
    </div>
    
    <!-- New Modal for Switching Home Page -->
    <div id="switch-home-modal" class="modal">
        <div class="modal-content">
          <h2>Would you like to switch up your homepage?</h2>
          <button id="confirm-switch-home">Yes</button>
          <button id="cancel-switch-home">No</button>
        </div>
      </div>

    <input type="file" id="banner-upload" style="display: none;">
    <input type="file" id="profile-upload" style="display: none;">

    <script type="module">
        const list = document.querySelectorAll('.list');

        function activeLink(){
            list.forEach((item) =>
            item.classList.remove('active'));
            this.classList.add('active');
        }

        list.forEach((item) =>
            item.addEventListener('click', activeLink));

            import { setHomeRedirect } from './js/homeRedirect.js';
  // Call it on DOMContentLoaded so the home link is updated
  document.addEventListener("DOMContentLoaded", () => {
    setHomeRedirect();
  });
    </script>
    <script  type="module" src="./js/profile.js"></script>
    <script  type="module" src="./js/script.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>
</html>
